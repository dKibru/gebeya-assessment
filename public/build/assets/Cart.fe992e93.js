import{F as f}from"./FrontLayout.139f530b.js";import{m as b,h as g,u as x,L as y,r as u,o as i,c as v,w as m,b as e,a as p,e as w,t as n,k,v as C,F as L,d as q,p as F,f as j}from"./app.e78a1269.js";import{_ as S}from"./index.23c11084.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";const B={name:"Cart",setup(o){const t=b(()=>F().props.value.auth.cart),r=g({data:t});return{form:x({cart:t}),cart:r}},components:{FrontLayout:f,Link:y},directives:{clickOutSide:S},data:()=>({showModal:!1,qtty:1}),props:{product:Object,client:Object,menu:Array,breadcrumb:Array},computed:{totalPrice:function(){const o=this.cart.data;let t=0;return o.forEach(r=>{t+=r.price*r.qtty}),t}},methods:{removeItem:function(o){this.form.transform(t=>({item:o})).post("/cart/remove",{preserveScroll:!0})},checkout:function(){const o=this.cart;console.log(o),this.form.transform(function(t){return console.log({data:t.cart.data}),{...t}}).post("/cart/store",{preserveScroll:!0,onSuccess:()=>{this.$inertia.visit("/checkout")}})}}},V=e("section",{class:"py-5 sm:py-7 bg-blue-100"},[e("div",{class:"container max-w-screen-xl mx-auto px-4"},[e("h2",{class:"text-3xl font-semibold mb-2"},"Shopping cart")])],-1),D={class:"py-10"},P={class:"container max-w-screen-xl mx-auto px-4"},A={class:"flex flex-col md:flex-row gap-4"},N={class:"md:w-3/4"},O={class:"border border-gray-200 bg-white shadow-sm rounded mb-5 p-3 lg:p-5"},U={class:"flex flex-wrap lg:flex-row gap-5 mb-4"},$={class:"w-full lg:w-2/5 xl:w-2/4"},E={class:"flex leading-5"},I={class:"block w-16 h-16 rounded border border-gray-200 overflow-hidden"},M=["src"],R={class:"ml-3"},X={class:""},z={class:"w-24 relative"},G=["onUpdate:modelValue","id"],H={class:"leading-5"},J={class:"font-semibold not-italic"},K={class:"text-gray-400"},Q={class:"flex-auto"},W={class:"float-right"},Y=["onClick"],Z=e("hr",{class:"my-4"},null,-1),ee=e("h6",{class:"font-bold"},"Free Delivery within 1-2 weeks",-1),te=e("p",{class:"text-gray-400"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip",-1),oe={class:"md:w-1/4"},se={class:"border border-gray-200 bg-white shadow-sm rounded mb-5 p-3 lg:p-5"},re={class:"mb-5"},ae={class:"flex justify-between text-gray-600 mb-1"},ne=e("span",null,"Total price:",-1),ce=e("li",{class:"flex justify-between text-gray-600 mb-1"},[e("span",null,"Discount:"),e("span",{class:"text-green-500"},"- $0.00")],-1),le=e("li",{class:"flex justify-between text-gray-600 mb-1"},[e("span",null,"TAX:"),e("span",null,"$0.00")],-1),ie={class:"text-lg font-bold border-t flex justify-between mt-3 pt-3"},de=e("span",null,"Total price:",-1),ue=j(" Back to shop ");function me(o,t,r,c,pe,a){const _=u("Link"),h=u("FrontLayout");return i(),v(h,{menu:r.menu},{default:m(()=>[V,e("section",D,[e("div",P,[e("div",A,[e("main",N,[e("article",O,[(i(!0),p(L,null,w(c.cart.data,(s,d)=>(i(),p("div",null,[e("div",U,[e("div",$,[e("figure",E,[e("div",null,[e("div",I,[e("img",{src:s.img,alt:"Title"},null,8,M)])]),e("figcaption",R,[e("p",null,n(s.name),1)])])]),e("div",X,[e("div",z,[k(e("input",{"onUpdate:modelValue":l=>c.cart.data[d].qtty=l,onChange:t[0]||(t[0]=(...l)=>o.changeCart&&o.changeCart(...l)),id:s.product,type:"number",class:"block appearance-none border border-gray-200 bg-white rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full"},null,40,G),[[C,c.cart.data[d].qtty]])])]),e("div",null,[e("div",H,[e("p",J,"$"+n(s.price*s.qtty/100),1),e("small",K," $"+n(s.price/100)+" / per item ",1)])]),e("div",Q,[e("div",W,[e("span",{onClick:l=>a.removeItem(s.product),class:"cursor-pointer px-4 py-2 inline-block text-red-600 bg-white shadow-sm border border-gray-200 rounded-md hover:bg-gray-100",href:"#"}," Remove ",8,Y)])])]),Z]))),256)),ee,te])]),e("aside",oe,[e("article",se,[e("ul",re,[e("li",ae,[ne,e("span",null,"$"+n(a.totalPrice/100),1)]),ce,le,e("li",ie,[de,e("span",null,"$"+n(a.totalPrice/100),1)])]),e("div",{onClick:t[1]||(t[1]=(...s)=>a.checkout&&a.checkout(...s)),class:"cursor-pointer px-4 py-3 mb-2 inline-block text-lg w-full text-center font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",href:"/checkout"}," Checkout "),q(_,{class:"px-4 py-3 inline-block text-lg w-full text-center font-medium text-green-600 bg-white shadow-sm border border-gray-200 rounded-md hover:bg-gray-100",href:"/"},{default:m(()=>[ue]),_:1})])])])])])]),_:1},8,["menu"])}const ge=T(B,[["render",me]]);export{ge as default};

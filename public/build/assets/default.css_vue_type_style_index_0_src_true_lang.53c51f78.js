import{o as M,f as A,l as P,z as ze,j as Ue,n as w,F as oe,g as de,i as F,h as dl,t as Re,b as D,A as J,B as fe,s as N,p as h,C as Y,D as Je,E as Oe}from"./app.78ceec09.js";function _(e){return[null,void 0].indexOf(e)!==-1}function fl(e,o,a){const{object:c,valueProp:u,mode:g}=J(e),t=fe().proxy,d=a.iv,L=m=>{d.value=v(m);const k=p(m);o.emit("change",k,t),o.emit("input",k),o.emit("update:modelValue",k)},p=m=>c.value||_(m)?m:Array.isArray(m)?m.map(k=>k[u.value]):m[u.value],v=m=>_(m)?g.value==="single"?{}:[]:m;return{update:L}}function pl(e,o){const{value:a,modelValue:c,mode:u,valueProp:g}=J(e),t=N(u.value!=="single"?[]:{}),d=c&&c.value!==void 0?c:a,L=h(()=>u.value==="single"?t.value[g.value]:t.value.map(v=>v[g.value])),p=h(()=>u.value!=="single"?t.value.map(v=>v[g.value]).join(","):t.value[g.value]);return{iv:t,internalValue:t,ev:d,externalValue:d,textValue:p,plainValue:L}}function hl(e,o,a){const{regex:c}=J(e),u=fe().proxy,g=a.isOpen,t=a.open,d=N(null),L=N(null),p=()=>{d.value=""},v=T=>{d.value=T.target.value},m=T=>{if(c&&c.value){let O=c.value;typeof O=="string"&&(O=new RegExp(O)),T.key.match(O)||T.preventDefault()}},k=T=>{if(c&&c.value){let R=(T.clipboardData||window.clipboardData).getData("Text"),f=c.value;typeof f=="string"&&(f=new RegExp(f)),R.split("").every(I=>!!I.match(f))||T.preventDefault()}o.emit("paste",T,u)};return Y(d,T=>{!g.value&&T&&t(),o.emit("search-change",T,u)}),{search:d,input:L,clearSearch:p,handleSearchInput:v,handleKeypress:m,handlePaste:k}}function gl(e,o,a){const{groupSelect:c,mode:u,groups:g,disabledProp:t}=J(e),d=N(null),L=v=>{v===void 0||v!==null&&v[t.value]||g.value&&v&&v.group&&(u.value==="single"||!c.value)||(d.value=v)};return{pointer:d,setPointer:L,clearPointer:()=>{L(null)}}}function ye(e,o=!0){return o?String(e).toLowerCase().trim():String(e).normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim()}function bl(e){return Object.prototype.toString.call(e)==="[object Object]"}function ml(e,o){const a=o.slice().sort();return e.length===o.length&&e.slice().sort().every(function(c,u){return c===a[u]})}function yl(e,o,a){const{options:c,mode:u,trackBy:g,limit:t,hideSelected:d,createTag:L,createOption:p,label:v,appendNewTag:m,appendNewOption:k,multipleLabel:T,object:O,loading:R,delay:f,resolveOnLoad:I,minChars:r,filterResults:q,clearOnSearch:j,clearOnSelect:E,valueProp:i,canDeselect:C,max:G,strict:Z,closeOnSelect:K,groups:$,reverse:Q,infinite:pe,groupOptions:W,groupHideEmpty:V,groupSelect:Se,onCreate:ce,disabledProp:z,searchStart:he}=J(e),X=fe().proxy,y=a.iv,ee=a.ev,B=a.search,se=a.clearSearch,n=a.update,S=a.pointer,U=a.clearPointer,Le=a.focus,Xe=a.deactivate,ke=a.close,Pe=N([]),le=N([]),x=N(!1),we=N(null),Te=N(pe.value&&t.value===-1?10:t.value),je=h(()=>L.value||p.value||!1),Ye=h(()=>m.value!==void 0?m.value:k.value!==void 0?k.value:!0),ne=h(()=>{if($.value){let l=le.value||[],s=[];return l.forEach(b=>{Me(b[W.value]).forEach(H=>{s.push(Object.assign({},H,b[z.value]?{[z.value]:!0}:{}))})}),s}else{let l=Me(le.value||[]);return Pe.value.length&&(l=l.concat(Pe.value)),l}}),Ve=h(()=>$.value?cl((le.value||[]).map(l=>{const s=Me(l[W.value]);return{...l,group:!0,[W.value]:De(s,!1).map(b=>Object.assign({},b,l[z.value]?{[z.value]:!0}:{})),__VISIBLE__:De(s).map(b=>Object.assign({},b,l[z.value]?{[z.value]:!0}:{}))}})):[]),He=h(()=>{let l=ne.value;return Q.value&&(l=l.reverse()),Ee.value.length&&(l=Ee.value.concat(l)),De(l)}),ve=h(()=>{let l=He.value;return Te.value>0&&(l=l.slice(0,Te.value)),l}),qe=h(()=>{switch(u.value){case"single":return!_(y.value[i.value]);case"multiple":case"tags":return!_(y.value)&&y.value.length>0}}),Ze=h(()=>T!==void 0&&T.value!==void 0?T.value(y.value,X):y.value&&y.value.length>1?`${y.value.length} options selected`:"1 option selected"),$e=h(()=>!ne.value.length&&!x.value&&!Ee.value.length),xe=h(()=>ne.value.length>0&&ve.value.length==0&&(B.value&&$.value||!$.value)),Ee=h(()=>je.value===!1||!B.value?[]:rl(B.value)!==-1?[]:[{[i.value]:B.value,[v.value]:B.value,[ae.value]:B.value,__CREATE__:!0}]),ae=h(()=>g.value||v.value),_e=h(()=>{switch(u.value){case"single":return null;case"multiple":case"tags":return[]}}),el=h(()=>R.value||x.value),re=l=>{switch(typeof l!="object"&&(l=te(l)),u.value){case"single":n(l);break;case"multiple":case"tags":n(y.value.concat(l));break}o.emit("select",Ge(l),l,X)},ie=l=>{switch(typeof l!="object"&&(l=te(l)),u.value){case"single":Ke();break;case"tags":case"multiple":n(Array.isArray(l)?y.value.filter(s=>l.map(b=>b[i.value]).indexOf(s[i.value])===-1):y.value.filter(s=>s[i.value]!=l[i.value]));break}o.emit("deselect",Ge(l),l,X)},Ge=l=>O.value?l:l[i.value],Ne=l=>{ie(l)},ll=(l,s)=>{if(s.button!==0){s.preventDefault();return}Ne(l)},Ke=()=>{o.emit("clear",X),n(_e.value)},ue=l=>{if(l.group!==void 0)return u.value==="single"?!1:sl(l[W.value])&&l[W.value].length;switch(u.value){case"single":return!_(y.value)&&y.value[i.value]==l[i.value];case"tags":case"multiple":return!_(y.value)&&y.value.map(s=>s[i.value]).indexOf(l[i.value])!==-1}},Ie=l=>l[z.value]===!0,Ce=()=>G===void 0||G.value===-1||!qe.value&&G.value>0?!1:y.value.length>=G.value,al=l=>{if(!Ie(l)){if(ce&&ce.value&&!ue(l)&&l.__CREATE__&&(l={...l},delete l.__CREATE__,l=ce.value(l,X),l instanceof Promise)){x.value=!0,l.then(s=>{x.value=!1,Fe(s)});return}Fe(l)}},Fe=l=>{switch(l.__CREATE__&&(l={...l},delete l.__CREATE__),u.value){case"single":if(l&&ue(l)){C.value&&ie(l);return}l&&Be(l),E.value&&se(),K.value&&(U(),ke()),l&&re(l);break;case"multiple":if(l&&ue(l)){ie(l);return}if(Ce())return;l&&(Be(l),re(l)),E.value&&se(),d.value&&U(),K.value&&ke();break;case"tags":if(l&&ue(l)){ie(l);return}if(Ce())return;l&&Be(l),E.value&&se(),l&&re(l),d.value&&U(),K.value&&ke();break}K.value||Le()},tl=l=>{if(!(Ie(l)||u.value==="single"||!Se.value)){switch(u.value){case"multiple":case"tags":ul(l[W.value])?ie(l[W.value]):re(l[W.value].filter(s=>y.value.map(b=>b[i.value]).indexOf(s[i.value])===-1).filter(s=>!s[z.value]).filter((s,b)=>y.value.length+1+b<=G.value||G.value===-1));break}K.value&&Xe()}},Be=l=>{te(l[i.value])===void 0&&je.value&&(o.emit("tag",l[i.value],X),o.emit("option",l[i.value],X),Ye.value&&ol(l),se())},nl=()=>{u.value!=="single"&&re(ve.value)},ul=l=>l.find(s=>!ue(s)&&!s[z.value])===void 0,sl=l=>l.find(s=>!ue(s))===void 0,te=l=>ne.value[ne.value.map(s=>String(s[i.value])).indexOf(String(l))],rl=(l,s=!0)=>ne.value.map(b=>parseInt(b[ae.value])==b[ae.value]?parseInt(b[ae.value]):b[ae.value]).indexOf(parseInt(l)==l?parseInt(l):l),il=l=>["tags","multiple"].indexOf(u.value)!==-1&&d.value&&ue(l),ol=l=>{Pe.value.push(l)},cl=l=>V.value?l.filter(s=>B.value?s.__VISIBLE__.length:s[W.value].length):l.filter(s=>B.value?s.__VISIBLE__.length:!0),De=(l,s=!0)=>{let b=l;return B.value&&q.value&&(b=b.filter(H=>he.value?ye(H[ae.value],Z.value).startsWith(ye(B.value,Z.value)):ye(H[ae.value],Z.value).indexOf(ye(B.value,Z.value))!==-1)),d.value&&s&&(b=b.filter(H=>!il(H))),b},Me=l=>{let s=l;return bl(s)&&(s=Object.keys(s).map(b=>{let H=s[b];return{[i.value]:b,[ae.value]:H,[v.value]:H}})),s=s.map(b=>typeof b=="object"?b:{[i.value]:b,[ae.value]:b,[v.value]:b}),s},ge=()=>{_(ee.value)||(y.value=me(ee.value))},be=l=>(x.value=!0,new Promise((s,b)=>{c.value(B.value,X).then(H=>{le.value=H||[],typeof l=="function"&&l(H),x.value=!1}).catch(H=>{console.error(H),le.value=[],x.value=!1}).finally(()=>{s()})})),Ae=()=>{if(!!qe.value)if(u.value==="single"){let l=te(y.value[i.value]);if(l!==void 0){let s=l[v.value];y.value[v.value]=s,O.value&&(ee.value[v.value]=s)}}else y.value.forEach((l,s)=>{let b=te(y.value[s][i.value]);if(b!==void 0){let H=b[v.value];y.value[s][v.value]=H,O.value&&(ee.value[s][v.value]=H)}})},vl=l=>{be(l)},me=l=>_(l)?u.value==="single"?{}:[]:O.value?l:u.value==="single"?te(l)||{}:l.filter(s=>!!te(s)).map(s=>te(s)),We=()=>{we.value=Y(B,l=>{l.length<r.value||!l&&r.value!==0||(x.value=!0,j.value&&(le.value=[]),setTimeout(()=>{l==B.value&&c.value(B.value,X).then(s=>{(l==B.value||!B.value)&&(le.value=s,S.value=ve.value.filter(b=>b[z.value]!==!0)[0]||null,x.value=!1)}).catch(s=>{console.error(s)})},f.value))},{flush:"sync"})};if(u.value!=="single"&&!_(ee.value)&&!Array.isArray(ee.value))throw new Error(`v-model must be an array when using "${u.value}" mode`);return c&&typeof c.value=="function"?I.value?be(ge):O.value==!0&&ge():(le.value=c.value,ge()),f.value>-1&&We(),Y(f,(l,s)=>{we.value&&we.value(),l>=0&&We()}),Y(ee,l=>{if(_(l)){y.value=me(l);return}switch(u.value){case"single":(O.value?l[i.value]!=y.value[i.value]:l!=y.value[i.value])&&(y.value=me(l));break;case"multiple":case"tags":ml(O.value?l.map(s=>s[i.value]):l,y.value.map(s=>s[i.value]))||(y.value=me(l));break}},{deep:!0}),Y(c,(l,s)=>{typeof e.options=="function"?I.value&&be():(le.value=e.options,Object.keys(y.value).length||ge(),Ae())}),Y(v,Ae),{pfo:He,fo:ve,filteredOptions:ve,hasSelected:qe,multipleLabelText:Ze,eo:ne,extendedOptions:ne,fg:Ve,filteredGroups:Ve,noOptions:$e,noResults:xe,resolving:x,busy:el,offset:Te,select:re,deselect:ie,remove:Ne,selectAll:nl,clear:Ke,isSelected:ue,isDisabled:Ie,isMax:Ce,getOption:te,handleOptionClick:al,handleGroupClick:tl,handleTagRemove:ll,refreshOptions:vl,resolveOptions:be,refreshLabels:Ae}}function Ol(e,o,a){const{valueProp:c,showOptions:u,searchable:g,groupLabel:t,groups:d,mode:L,groupSelect:p,disabledProp:v}=J(e),m=a.fo,k=a.fg,T=a.handleOptionClick,O=a.handleGroupClick,R=a.search,f=a.pointer,I=a.setPointer,r=a.clearPointer,q=a.multiselect,j=a.isOpen,E=h(()=>m.value.filter(n=>!n[v.value])),i=h(()=>k.value.filter(n=>!n[v.value])),C=h(()=>L.value!=="single"&&p.value),G=h(()=>f.value&&f.value.group),Z=h(()=>B(f.value)),K=h(()=>{const n=G.value?f.value:B(f.value),S=i.value.map(Le=>Le[t.value]).indexOf(n[t.value]);let U=i.value[S-1];return U===void 0&&(U=Q.value),U}),$=h(()=>{let n=i.value.map(S=>S.label).indexOf(G.value?f.value[t.value]:B(f.value)[t.value])+1;return i.value.length<=n&&(n=0),i.value[n]}),Q=h(()=>[...i.value].slice(-1)[0]),pe=h(()=>f.value.__VISIBLE__.filter(n=>!n[v.value])[0]),W=h(()=>{const n=Z.value.__VISIBLE__.filter(S=>!S[v.value]);return n[n.map(S=>S[c.value]).indexOf(f.value[c.value])-1]}),V=h(()=>{const n=B(f.value).__VISIBLE__.filter(S=>!S[v.value]);return n[n.map(S=>S[c.value]).indexOf(f.value[c.value])+1]}),Se=h(()=>[...K.value.__VISIBLE__.filter(n=>!n[v.value])].slice(-1)[0]),ce=h(()=>[...Q.value.__VISIBLE__.filter(n=>!n[v.value])].slice(-1)[0]),z=n=>!!f.value&&(!n.group&&f.value[c.value]==n[c.value]||n.group!==void 0&&f.value[t.value]==n[t.value])?!0:void 0,he=()=>{I(E.value[0]||null)},X=()=>{!f.value||f.value[v.value]===!0||(G.value?O(f.value):T(f.value))},y=()=>{if(f.value===null)I((d.value&&C.value?i.value[0]:E.value[0])||null);else if(d.value&&C.value){let n=G.value?pe.value:V.value;n===void 0&&(n=$.value),I(n||null)}else{let n=E.value.map(S=>S[c.value]).indexOf(f.value[c.value])+1;E.value.length<=n&&(n=0),I(E.value[n]||null)}Oe(()=>{se()})},ee=()=>{if(f.value===null){let n=E.value[E.value.length-1];d.value&&C.value&&(n=ce.value,n===void 0&&(n=Q.value)),I(n||null)}else if(d.value&&C.value){let n=G.value?Se.value:W.value;n===void 0&&(n=G.value?K.value:Z.value),I(n||null)}else{let n=E.value.map(S=>S[c.value]).indexOf(f.value[c.value])-1;n<0&&(n=E.value.length-1),I(E.value[n]||null)}Oe(()=>{se()})},B=n=>i.value.find(S=>S.__VISIBLE__.map(U=>U[c.value]).indexOf(n[c.value])!==-1),se=()=>{let n=q.value.querySelector("[data-pointed]");if(!n)return;let S=n.parentElement.parentElement;d.value&&(S=G.value?n.parentElement.parentElement.parentElement:n.parentElement.parentElement.parentElement.parentElement),n.offsetTop+n.offsetHeight>S.clientHeight+S.scrollTop&&(S.scrollTop=n.offsetTop+n.offsetHeight-S.clientHeight),n.offsetTop<S.scrollTop&&(S.scrollTop=n.offsetTop)};return Y(R,n=>{g.value&&(n.length&&u.value?he():r())}),Y(j,n=>{if(n){let S=q.value.querySelectorAll("[data-selected]")[0];if(!S)return;let U=S.parentElement.parentElement;Oe(()=>{U.scrollTop>0||(U.scrollTop=S.offsetTop)})}}),{pointer:f,canPointGroups:C,isPointed:z,setPointerFirst:he,selectPointer:X,forwardPointer:y,backwardPointer:ee}}function Sl(e,o,a){const{disabled:c}=J(e),u=fe().proxy,g=N(!1);return{isOpen:g,open:()=>{g.value||c.value||(g.value=!0,o.emit("open",u))},close:()=>{!g.value||(g.value=!1,o.emit("close",u))}}}function Ll(e,o,a){const{searchable:c,disabled:u}=J(e),g=a.input,t=a.open,d=a.close,L=a.clearSearch,p=a.isOpen,v=N(null),m=N(null),k=N(!1),T=h(()=>c.value||u.value?-1:0),O=()=>{c.value&&g.value.blur(),v.value.blur()},R=()=>{c.value&&!u.value&&g.value.focus()},f=()=>{R()},I=()=>{u.value||(k.value=!0,t())},r=()=>{k.value=!1,setTimeout(()=>{k.value||(d(),L())},1)};return{multiselect:v,tags:m,tabindex:T,isActive:k,blur:O,focus:R,handleFocus:f,activate:I,deactivate:r,handleCaretClick:()=>{r(),O()},handleMousedown:E=>{p.value&&(E.target.isEqualNode(v.value)||E.target.isEqualNode(m.value))?setTimeout(()=>{r()},0):document.activeElement.isEqualNode(v.value)&&!p.value&&I()}}}function kl(e,o,a){const{mode:c,addTagOn:u,openDirection:g,searchable:t,showOptions:d,valueProp:L,groups:p,addOptionOn:v,createTag:m,createOption:k,reverse:T}=J(e),O=fe().proxy,R=a.iv,f=a.update,I=a.search,r=a.setPointer,q=a.selectPointer,j=a.backwardPointer,E=a.forwardPointer,i=a.isOpen,C=a.open,G=a.blur,Z=a.fo,K=h(()=>m.value||k.value||!1),$=h(()=>u.value!==void 0?u.value:v.value!==void 0?v.value:["enter"]),Q=()=>{c.value==="tags"&&!d.value&&K.value&&t.value&&!p.value&&r(Z.value[Z.value.map(V=>V[L.value]).indexOf(I.value)])};return{handleKeydown:V=>{switch(o.emit("keydown",V,O),V.key){case"Backspace":if(c.value==="single"||t.value&&[null,""].indexOf(I.value)===-1||R.value.length===0)return;f([...R.value].slice(0,-1));break;case"Enter":if(V.preventDefault(),$.value.indexOf("enter")===-1&&K.value)return;Q(),q();break;case" ":if(!K.value&&!t.value){V.preventDefault(),Q(),q();return}if(!K.value)return!1;if($.value.indexOf("space")===-1&&K.value)return;V.preventDefault(),Q(),q();break;case"Tab":case";":case",":if($.value.indexOf(V.key.toLowerCase())===-1||!K.value)return;Q(),q(),V.preventDefault();break;case"Escape":G();break;case"ArrowUp":if(V.preventDefault(),!d.value)return;i.value||C(),j();break;case"ArrowDown":if(V.preventDefault(),!d.value)return;i.value||C(),E();break}},handleKeyup:V=>{o.emit("keyup",V,O)},preparePointer:Q}}function Pl(e,o,a){const{classes:c,disabled:u,openDirection:g,showOptions:t}=J(e),d=a.isOpen,L=a.isPointed,p=a.isSelected,v=a.isDisabled,m=a.isActive,k=a.canPointGroups,T=a.resolving,O=a.fo,R=h(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer",...c.value})),f=h(()=>!!(d.value&&t.value&&(!T.value||T.value&&O.value.length)));return{classList:h(()=>{const r=R.value;return{container:[r.container].concat(u.value?r.containerDisabled:[]).concat(f.value&&g.value==="top"?r.containerOpenTop:[]).concat(f.value&&g.value!=="top"?r.containerOpen:[]).concat(m.value?r.containerActive:[]),spacer:r.spacer,singleLabel:r.singleLabel,singleLabelText:r.singleLabelText,multipleLabel:r.multipleLabel,search:r.search,tags:r.tags,tag:[r.tag].concat(u.value?r.tagDisabled:[]),tagRemove:r.tagRemove,tagRemoveIcon:r.tagRemoveIcon,tagsSearchWrapper:r.tagsSearchWrapper,tagsSearch:r.tagsSearch,tagsSearchCopy:r.tagsSearchCopy,placeholder:r.placeholder,caret:[r.caret].concat(d.value?r.caretOpen:[]),clear:r.clear,clearIcon:r.clearIcon,spinner:r.spinner,inifinite:r.inifinite,inifiniteSpinner:r.inifiniteSpinner,dropdown:[r.dropdown].concat(g.value==="top"?r.dropdownTop:[]).concat(!d.value||!t.value||!f.value?r.dropdownHidden:[]),options:[r.options].concat(g.value==="top"?r.optionsTop:[]),group:r.group,groupLabel:q=>{let j=[r.groupLabel];return L(q)?j.push(p(q)?r.groupLabelSelectedPointed:r.groupLabelPointed):p(q)&&k.value?j.push(v(q)?r.groupLabelSelectedDisabled:r.groupLabelSelected):v(q)&&j.push(r.groupLabelDisabled),k.value&&j.push(r.groupLabelPointable),j},groupOptions:r.groupOptions,option:(q,j)=>{let E=[r.option];return L(q)?E.push(p(q)?r.optionSelectedPointed:r.optionPointed):p(q)?E.push(v(q)?r.optionSelectedDisabled:r.optionSelected):(v(q)||j&&v(j))&&E.push(r.optionDisabled),E},noOptions:r.noOptions,noResults:r.noResults,fakeInput:r.fakeInput}}),showDropdown:f}}function wl(e,o,a){const{limit:c,infinite:u}=J(e),g=a.isOpen,t=a.offset,d=a.search,L=a.pfo,p=a.eo,v=N(null),m=N(null),k=h(()=>t.value<L.value.length),T=R=>{const{isIntersecting:f,target:I}=R[0];if(f){const r=I.offsetParent,q=r.scrollTop;t.value+=c.value==-1?10:c.value,Oe(()=>{r.scrollTop=q})}},O=()=>{g.value&&t.value<L.value.length?v.value.observe(m.value):!g.value&&v.value&&v.value.disconnect()};return Y(g,()=>{!u.value||O()}),Y(d,()=>{!u.value||(t.value=c.value,O())},{flush:"post"}),Y(p,()=>{!u.value||O()},{immediate:!1,flush:"post"}),Je(()=>{window&&window.IntersectionObserver&&(v.value=new IntersectionObserver(T))}),{hasMore:k,infiniteLoader:m}}function Tl(e,o,a){const{placeholder:c,id:u,valueProp:g,label:t,mode:d,groupLabel:L}=J(e),p=a.pointer,v=a.iv,m=a.isSelected,k=a.hasSelected,T=a.multipleLabelText,O=N(null),R=h(()=>{let i=[];return u&&u.value&&i.push(u.value),i.push("multiselect-options"),i.join("-")}),f=h(()=>{let i=[];if(u&&u.value&&i.push(u.value),i.push("multiselect-option"),p.value&&p.value[g.value]!==void 0)return i.push(p.value[g.value]),i.join("-")}),I=h(()=>{let i=[];return O.value&&i.push(O.value),c.value&&!k.value&&i.push(c.value),d.value==="single"&&v.value&&v.value[t.value]!==void 0&&i.push(v.value[t.value]),d.value==="multiple"&&k.value&&i.push(T.value),d.value==="tags"&&k.value&&i.push(...v.value.map(C=>C[t.value])),i.join(", ")}),r=h(()=>I.value),q=i=>{let C=[];return u&&u.value&&C.push(u.value),C.push("multiselect-option"),C.push(i[g.value]),C.join("-")},j=i=>{let C=[];return m(i)&&C.push("\u2713"),C.push(i[t.value]),C.join(" ")},E=i=>{let C=[];return C.push(i[L.value]),C.join(" ")};return Je(()=>{if(u&&u.value&&document&&document.querySelector){let i=document.querySelector(`[for="${u.value}"]`);O.value=i?i.innerText:null}}),{ariaOwns:R,ariaLabel:I,ariaPlaceholder:r,ariaActiveDescendant:f,ariaOptionId:q,ariaOptionLabel:j,ariaGroupLabel:E}}function ql(e,o,a,c={}){return a.forEach(u=>{u&&(c={...c,...u(e,o,c)})}),c}var Qe={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1}},setup(e,o){return ql(e,o,[pl,gl,Sl,hl,fl,Ll,yl,wl,Ol,kl,Pl,Tl])}};const El=["tabindex","id","dir","aria-owns","aria-expanded","aria-label","aria-placeholder","aria-activedescendant"],Il=["type","modelValue","value","autocomplete","id","aria-owns","aria-expanded","aria-label","aria-placeholder","aria-activedescendant"],Cl=["onClick"],Bl=["type","modelValue","value","id","autocomplete","aria-owns","aria-expanded","aria-label","aria-placeholder","aria-activedescendant"],Dl=["innerHTML"],Ml=["innerHTML"],Al=["id"],Rl=["data-pointed","onMouseenter","onClick"],jl=["innerHTML"],Vl=["aria-label"],Hl=["data-pointed","data-selected","id","aria-label","onMouseenter","onClick"],Gl=["innerHTML"],Nl=["id","aria-label","data-pointed","data-selected","onMouseenter","onClick"],Kl=["innerHTML"],Fl=["innerHTML"],Wl=["innerHTML"],zl=["value"],Ul=["name","value"],Jl=["name","value"];function Ql(e,o,a,c,u,g){return M(),A("div",{ref:"multiselect",tabindex:e.tabindex,class:w(e.classList.container),id:a.searchable?void 0:a.id,dir:a.rtl?"rtl":void 0,"aria-owns":e.ariaOwns,"aria-expanded":e.isOpen,"aria-label":e.ariaLabel,"aria-placeholder":e.ariaPlaceholder,"aria-activedescendant":e.ariaActiveDescendant,onFocusin:o[8]||(o[8]=(...t)=>e.activate&&e.activate(...t)),onFocusout:o[9]||(o[9]=(...t)=>e.deactivate&&e.deactivate(...t)),onKeydown:o[10]||(o[10]=(...t)=>e.handleKeydown&&e.handleKeydown(...t)),onKeyup:o[11]||(o[11]=(...t)=>e.handleKeyup&&e.handleKeyup(...t)),onFocus:o[12]||(o[12]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onMousedown:o[13]||(o[13]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),role:"combobox"},[P(" Search "),a.mode!=="tags"&&a.searchable&&!a.disabled?(M(),A("input",ze({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:a.autocomplete,id:a.searchable?a.id:void 0},a.attrs,{"aria-owns":e.ariaOwns,"aria-expanded":e.isOpen,"aria-label":e.ariaLabel,"aria-placeholder":e.ariaPlaceholder,"aria-activedescendant":e.ariaActiveDescendant,onInput:o[0]||(o[0]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:o[1]||(o[1]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:o[2]||(o[2]=Ue((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input",role:"combobox"}),null,16,Il)):P("v-if",!0),P(" Tags (with search) "),a.mode=="tags"?(M(),A("div",{key:1,class:w(e.classList.tags)},[(M(!0),A(oe,null,de(e.iv,(t,d,L)=>F(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(M(),A("span",{class:w(e.classList.tag),key:L},[dl(Re(t[a.label])+" ",1),a.disabled?P("v-if",!0):(M(),A("span",{key:0,class:w(e.classList.tagRemove),onClick:p=>e.handleTagRemove(t,p)},[D("span",{class:w(e.classList.tagRemoveIcon)},null,2)],10,Cl))],2))])),256)),D("div",{class:w(e.classList.tagsSearchWrapper),ref:"tags"},[P(" Used for measuring search width "),D("span",{class:w(e.classList.tagsSearchCopy)},Re(e.search),3),P(" Actual search input "),a.searchable&&!a.disabled?(M(),A("input",ze({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:a.searchable?a.id:void 0,autocomplete:a.autocomplete},a.attrs,{"aria-owns":e.ariaOwns,"aria-expanded":e.isOpen,"aria-label":e.ariaLabel,"aria-placeholder":e.ariaPlaceholder,"aria-activedescendant":e.ariaActiveDescendant,onInput:o[3]||(o[3]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:o[4]||(o[4]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:o[5]||(o[5]=Ue((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input",role:"combobox"}),null,16,Bl)):P("v-if",!0)],2)],2)):P("v-if",!0),P(" Single label "),a.mode=="single"&&e.hasSelected&&!e.search&&e.iv?F(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[D("div",{class:w(e.classList.singleLabel)},[D("span",{class:w(e.classList.singleLabelText),innerHTML:e.iv[a.label]},null,10,Dl)],2)]):P("v-if",!0),P(" Multiple label "),a.mode=="multiple"&&e.hasSelected&&!e.search?F(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[D("div",{class:w(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,Ml)]):P("v-if",!0),P(" Placeholder "),a.placeholder&&!e.hasSelected&&!e.search?F(e.$slots,"placeholder",{key:4},()=>[D("div",{class:w(e.classList.placeholder)},Re(a.placeholder),3)]):P("v-if",!0),P(" Spinner "),a.loading||e.resolving?F(e.$slots,"spinner",{key:5},()=>[D("span",{class:w(e.classList.spinner)},null,2)]):P("v-if",!0),P(" Clear "),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?F(e.$slots,"clear",{key:6,clear:e.clear},()=>[D("span",{class:w(e.classList.clear),onClick:o[6]||(o[6]=(...t)=>e.clear&&e.clear(...t))},[D("span",{class:w(e.classList.clearIcon)},null,2)],2)]):P("v-if",!0),P(" Caret "),a.caret&&a.showOptions?F(e.$slots,"caret",{key:7},()=>[D("span",{class:w(e.classList.caret),onClick:o[7]||(o[7]=(...t)=>e.handleCaretClick&&e.handleCaretClick(...t))},null,2)]):P("v-if",!0),P(" Options "),D("div",{class:w(e.classList.dropdown),tabindex:"-1"},[F(e.$slots,"beforelist",{options:e.fo}),D("ul",{class:w(e.classList.options),id:e.ariaOwns,role:"listbox"},[a.groups?(M(!0),A(oe,{key:0},de(e.fg,(t,d,L)=>(M(),A("li",{class:w(e.classList.group),key:L},[D("div",{class:w(e.classList.groupLabel(t)),"data-pointed":e.isPointed(t),onMouseenter:p=>e.setPointer(t),onClick:p=>e.handleGroupClick(t),role:"none"},[F(e.$slots,"grouplabel",{group:t,isSelected:e.isSelected,isPointed:e.isPointed},()=>[D("span",{innerHTML:t[a.groupLabel]},null,8,jl)])],42,Rl),D("ul",{class:w(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(t),role:"group"},[(M(!0),A(oe,null,de(t.__VISIBLE__,(p,v,m)=>(M(),A("li",{class:w(e.classList.option(p,t)),key:m,"data-pointed":e.isPointed(p),"data-selected":e.isSelected(p)||void 0,id:e.ariaOptionId(p),"aria-label":e.ariaOptionLabel(p),onMouseenter:k=>e.setPointer(p),onClick:k=>e.handleOptionClick(p),role:"option"},[F(e.$slots,"option",{option:p,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[D("span",{innerHTML:p[a.label]},null,8,Gl)])],42,Hl))),128))],10,Vl)],2))),128)):(M(!0),A(oe,{key:1},de(e.fo,(t,d,L)=>(M(),A("li",{id:e.ariaOptionId(t),"aria-label":e.ariaOptionLabel(t),class:w(e.classList.option(t)),key:L,"data-pointed":e.isPointed(t),"data-selected":e.isSelected(t)||void 0,onMouseenter:p=>e.setPointer(t),onClick:p=>e.handleOptionClick(t),role:"option"},[F(e.$slots,"option",{option:t,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[D("span",{innerHTML:t[a.label]},null,8,Kl)])],42,Nl))),128))],10,Al),e.noOptions?F(e.$slots,"nooptions",{key:0},()=>[D("div",{class:w(e.classList.noOptions),innerHTML:a.noOptionsText},null,10,Fl)]):P("v-if",!0),e.noResults?F(e.$slots,"noresults",{key:1},()=>[D("div",{class:w(e.classList.noResults),innerHTML:a.noResultsText},null,10,Wl)]):P("v-if",!0),a.infinite&&e.hasMore?(M(),A("div",{key:2,class:w(e.classList.inifinite),ref:"infiniteLoader"},[F(e.$slots,"infinite",{},()=>[D("span",{class:w(e.classList.inifiniteSpinner)},null,2)])],2)):P("v-if",!0),F(e.$slots,"afterlist",{options:e.fo})],2),P(" Hacky input element to show HTML5 required warning "),a.required?(M(),A("input",{key:8,class:w(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,zl)):P("v-if",!0),P(" Native input support "),a.nativeSupport?(M(),A(oe,{key:9},[a.mode=="single"?(M(),A("input",{key:0,type:"hidden",name:a.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Ul)):(M(!0),A(oe,{key:1},de(e.plainValue,(t,d)=>(M(),A("input",{type:"hidden",name:`${a.name}[]`,value:t,key:d},null,8,Jl))),128))],64)):P("v-if",!0),P(" Create height for empty input "),D("div",{class:w(e.classList.spacer)},null,2)],42,El)}Qe.render=Ql;Qe.__file="src/Multiselect.vue";export{Qe as s};

import{F as w}from"./FrontLayout.c606e90b.js";import{p as k,r as C,u as M,L as q,a as _,o as n,c as L,w as b,f as i,b as t,t as l,k as m,v as g,l as f,F as p,g as y,e as T,h as u,q as V}from"./app.c3f89b10.js";import{_ as F}from"./index.23c11084.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";const j={name:"ProductDetail",setup(r){const e=k(()=>V().props.value.auth.cart),s=C({data:e});return console.log("carta",s),{form:M({cart:e,qtty:0,product:r.product.id}),cart:s}},components:{FrontLayout:w,Link:q},directives:{clickOutSide:F},data:()=>({showModal:!1,qtty:1}),props:{product:Object,client:Object,menu:Array,breadcrumb:Array},computed:{productIsNotInTheCart:function(){const r=this.cart.data;let e=!0;return r.forEach(s=>{console.log(this.product.id,s.product),this.product.id==s.product&&(e=!1)}),e}},methods:{removeItem:function(r){this.cart.data.splice(r,1)},addToMyCart:function(){this.showModal=!0,this.form.qtty=this.qtty},closeModal:function(){this.showModal=!1},changeCart:function(r){const e=r.target.value,s=r.target.id;console.log({v:e,i:s},this.cart),this.cart.data=[]},updateModal:function(){const r=this.cart;console.log(r),this.form.transform(function(e){return console.log({data:e.cart.data}),{...e}}).post("/cart/store",{preserveScroll:!0,onSuccess:()=>{this.showModal=!1,this.qtty=0}})}}},I={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",id:"my-modal"},A={id:"defaultModal",tabindex:"-1",class:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-modal md:h-full justify-center items-center flex","aria-modal":"true",role:"dialog"},B={class:"relative bg-white p-4 w-full max-w-2xl h-full md:h-auto"},D={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},P={class:"flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600"},S=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Mini Cart ",-1),U=t("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),z=t("span",{class:"sr-only"},"Close modal",-1),O=[U,z],E={class:"border border-gray-200 bg-white shadow-sm rounded mb-5 p-3 lg:p-5"},Q={key:0,class:""},G={class:"flex flex-wrap lg:flex-row gap-5 mb-4"},H={class:"w-full lg:w-2/5 xl:w-2/4"},J={class:"flex leading-5"},K={class:"block w-16 h-16 rounded border border-gray-200 overflow-hidden"},R=["src"],W={class:"ml-3"},X={class:""},Y={class:"w-24 relative"},Z=u(" Qtty : "),$={class:"leading-5"},tt={class:"font-semibold not-italic"},et={class:"text-gray-400"},ot=t("div",null,null,-1),st=t("hr",{class:"my-4"},null,-1),rt={class:""},at={class:"flex flex-wrap lg:flex-row gap-5 mb-4"},lt={class:"w-full lg:w-2/5"},dt={class:"flex leading-5"},nt={class:"block w-16 h-16 rounded border border-gray-200 overflow-hidden"},it=["src"],ct={class:"ml-3"},ut={href:"#",class:"hover:text-blue-600"},ht={class:""},mt={class:"w-24 relative"},gt=["onUpdate:modelValue","id"],_t={class:"leading-5"},bt={class:"font-semibold not-italic"},ft={class:"text-gray-400"},pt=["onClick"],yt=t("i",{class:"fa fa fa-times-circle"},null,-1),xt=[yt],vt=t("hr",{class:"my-4"},null,-1),wt={class:"flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600"},kt={class:"bg-blue-100 py-4"},Ct={class:"container max-w-screen-xl mx-auto px-4"},Mt={class:"text-3xl font-semibold mb-2"},qt={class:"inline-flex flex-wrap text-gray-600 space-x-1 md:space-x-3 items-center"},Lt={class:"inline-flex items-center"},Tt=t("i",{class:"ml-3 text-gray-400 fa fa-chevron-right"},null,-1),Vt=t("li",{class:"inline-flex items-center"}," Detail ",-1),Ft={class:"bg-white py-10"},Nt={class:"container max-w-screen-xl mx-auto px-4"},jt={class:"grid grid-cols-1 sm:grid-cols-2 gap-8"},It={class:"border border-gray-200 shadow-sm p-3 text-center rounded mb-5"},At=["src"],Bt={class:"font-semibold text-2xl mb-4"},Dt={class:"mb-4 font-semibold text-xl"},Pt=t("span",{class:"text-base font-normal"},null,-1),St=t("p",{class:"mb-4 text-gray-500 text-justify"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean lectus turpis, ornare id pharetra ut, elementum at risus. Aliquam ornare dui erat, et scelerisque ante placerat vel. Phasellus nec placerat quam, vel luctus nisi. Nulla viverra vitae lorem a lobortis. Sed arcu nisi, condimentum quis mi a, pharetra egestas enim. ",-1),Ut=t("ul",{class:"mb-5 min-w-300"}," \xA0 ",-1),zt={class:"flex flex-wrap gap-2"},Ot=t("i",{class:"fa fa-shopping-cart mr-2"},null,-1),Et=u(" Add to cart "),Qt=[Ot,Et];function Gt(r,e,s,d,Ht,a){const x=_("Link"),v=_("FrontLayout");return n(),L(v,{menu:s.menu},{default:b(()=>[r.showModal?(n(),i("div",I,[t("div",A,[t("div",B,[t("div",D,[t("div",P,[S,t("button",{onClick:e[0]||(e[0]=(...o)=>a.closeModal&&a.closeModal(...o)),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"defaultModal"},O)]),t("div",E,[a.productIsNotInTheCart?(n(),i("article",Q,[t("div",G,[t("div",H,[t("figure",J,[t("div",null,[t("div",K,[t("img",{src:s.product.img,alt:"Title"},null,8,R)])]),t("figcaption",W,[t("p",null,l(s.product.name),1)])])]),t("div",X,[t("div",Y,[Z,m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.form.qtty=o),min:"0",type:"number",class:"block appearance-none border border-gray-200 bg-white rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full"},null,512),[[g,d.form.qtty]])])]),t("div",null,[t("div",$,[t("p",tt,"$"+l(d.form.qtty*s.product.price/100),1),t("small",et," $"+l(s.product.price/100)+" / per item ",1)])]),ot]),st])):f("",!0),(n(!0),i(p,null,y(d.cart.data,(o,h)=>(n(),i("article",rt,[t("div",at,[t("div",lt,[t("figure",dt,[t("div",null,[t("div",nt,[t("img",{src:o.img,alt:"Title"},null,8,it)])]),t("figcaption",ct,[t("p",null,[t("a",ut,l(o.name),1)])])])]),t("div",ht,[t("div",mt,[m(t("input",{"onUpdate:modelValue":c=>d.cart.data[h].qtty=c,onChange:e[2]||(e[2]=(...c)=>a.changeCart&&a.changeCart(...c)),id:o.product,type:"number",class:"block appearance-none border border-gray-200 bg-white rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full"},null,40,gt),[[g,d.cart.data[h].qtty]])])]),t("div",null,[t("div",_t,[t("p",bt,"$"+l(o.price*o.qtty/100),1),t("small",ft," $"+l(o.price/100)+" / per item ",1)])]),t("div",null,[t("span",{onClick:c=>a.removeItem(h),class:"px-4 cursor-pointer align-right py-2 inline-block text-red-600 bg-white shadow-sm border border-gray-200 rounded-md hover:bg-gray-100",href:"#"},xt,8,pt)])]),vt]))),256))]),t("div",wt,[t("button",{onClick:e[3]||(e[3]=(...o)=>a.closeModal&&a.closeModal(...o)),type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"},"Cancel"),t("button",{onClick:e[4]||(e[4]=(...o)=>a.updateModal&&a.updateModal(...o)),"data-modal-toggle":"defaultModal",type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Update")])])])])])):f("",!0),t("section",kt,[t("div",Ct,[t("h2",Mt,l(s.client.name)+" store",1),t("ol",qt,[(n(!0),i(p,null,y(s.breadcrumb,o=>(n(),i("li",Lt,[T(x,{class:"text-gray-600 hover:text-blue-600",href:o.url},{default:b(()=>[u(l(o.label),1)]),_:2},1032,["href"]),Tt]))),256)),Vt])])]),t("section",Ft,[t("div",Nt,[t("div",jt,[t("aside",null,[t("div",It,[t("img",{class:"object-cover inline-block",width:"400",src:s.product.img,alt:"Product title"},null,8,At)])]),t("main",null,[t("h2",Bt,l(s.product.name),1),t("p",Dt,[u("$"+l(s.product.price/100)+" ",1),Pt]),St,Ut,t("div",zt,[m(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>r.qtty=o),type:"number",class:"px-4 py-2 w-16 inline-block text-black border-blue-600 bg-white border border-transparent rounded-md hover:bg-gray-100"},null,512),[[g,r.qtty]]),t("div",{onClick:e[6]||(e[6]=(...o)=>a.addToMyCart&&a.addToMyCart(...o)),class:"px-4 py-2 cursor-pointer inline-block text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",href:"#"},Qt)])])])])])]),_:1},8,["menu"])}const Xt=N(j,[["render",Gt]]);export{Xt as default};
